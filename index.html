<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html;charset=UTF-8" http-equiv="content-type">
    <title>Phovec</title>
    <link rel='icon' href='assets/img/favicon.png' type='image/png'/>
    <link rel="stylesheet" href="assets/css/startpage.css">
    <link rel="stylesheet" href="assets/css/room.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/development.css">
  </head>
  <body>
    <!-- debugger content -->
    <div id="debugger">
      <h3>RTCPeerConnection Attributes</h3>
      <div id="rtcPeerConnection">
        <div>localDescription</div>
        <div id="localDescription">-</div>
        <div>remoteDescription</div>
        <div id="remoteDescription">-</div>
        <div>signalingState</div>
        <div id="signalingState">-</div>
        <div>iceGatheringState</div>
        <div id="iceGatheringState">-</div>
        <div>iceConnectionState</div>
        <div id="iceConnectionState">-</div>
      </div>
    </div>

    <script type="text/x-handlebars" data-template-name="application">
      <div id="blackFilter"></div>
      <div id="content">
      {{outlet}}
      </div>
    </script>

    <!-- templates -->
    <script type="text/x-handlebars" data-template-name="index">
      <header>
      {{#linkTo "about" id="infoButton"}}{{/linkTo}}
      </header>

      <div id="startInfo">
      <h1>Hi! Hier kannst du mit Freunden Videochatten.</h1>
      <p>Einfach auf Start klicken und du bist in einem Chatraum, von wo aus du deine Freunde einladen kannst.</p>
      </div>
      {{#linkTo "rooms"}}<div id="startButtonImage"></div>{{/linkTo}}
    </script>

    <script type="text/x-handlebars" data-template-name="unknown">Raum unbekannt!</script>

    <script type="text/x-handlebars" data-template-name="full">Voll</script>

    <script type="text/x-handlebars" data-template-name="rooms"></script>

    <script type="text/x-handlebars" data-template-name="room">
      <header>
        {{#linkTo "about" id="infoButton"}}{{/linkTo}}
        {{#linkTo "hangup" id="hangupButton"}}{{/linkTo}}
      </header>
      <div id="infoField">
        <p>Bitte Kamera & Mikrofon im Browser aktivieren!</p><br/>
        <p>Bei Google-Chrome kannst du das an einer Leiste, die gerade am oberen Rand erschienen ist einstellen.</p>
      </div>
      <div id="videoboxes">
        
          <div class="user" id="local">
            {{#view App.UserView}}
              <div class="videoOptions">
                <div class="videoOptionsItems" {{ action muteAudio target="view" }}>Audio Stumm schalten</div>
                <div class="videoOptionsItems" {{ action hideVideo target="view" }}>Video deaktivieren</div>
                <div class="videoOptionsItems" {{ action showEffects target="view" }}>effekte</div>
              </div>
            {{/view}}

            <span class="name" id="local_name">Name</span>
            <video autoplay></video>
            <canvas id="faceDetectorOutput"></canvas>
            <div id="videoEffects" {{ action hideEffects target="view" }}>
              <input type="button" id="snapshotButton" {{action "takeScreenShotFromChatroom" }} class="" value="Take Snapshot"/>
              <input type="button" id="getSnapshotButton" class="" value="get Snapshot" style="display:none" />
              <input type="button" {{action "putClassesOnUser" }} class="" value="classes" />
              <input type="button" {{action "putHairOnUser" }} class="" value="hair" />
              <input type="button" {{action "putBeardOnUser" }} class="" value="beard"/>
              <input type="button" id="takeOffClothesButton" {{action "takeOffClothesOfUser" }} class="" value="off" />
            </div>
          </div>
      </div>
      <!-- fake inputfield for a second shadow for the plus button -->
      <input id="show_sidebar_shadow"/>
      <input type="button" id="show_sidebar" value="< " {{ action showSidebar target="view" }}/>
      <div id="social_sidebar">
        {{ partial 'auth' }}
      </div>

      <!-- Facebook-Instance -->
      <script type="text/javascript" src="http://connect.facebook.net/en_US/all.js"></script>
      <script src="assets/js/libs/facebook-sdk-init.js"></script>

      <!-- face-detection -->
      <script src="assets/js/libs/request-animation-frame.js"></script>
      <script src="assets/js/libs/face-detection/ccv.js"></script>
      <script src="assets/js/libs/face-detection/face.js"></script>
      <script src="assets/js/helpers/face-detector.js"></script>

      <!-- screenshot-maker -->
      <script src="assets/js/libs/html2canvas/html2canvas.min.js"></script>

      <!-- helper -->
      <script src="assets/js/helpers/signaling.js"></script>
    </script>

    <script type="text/x-handlebars" data-template-name="about">
      <header>
      {{#linkTo "index" id="backButton"}}{{/linkTo}}
      </header>
      <div id="aboutInfo">
      <h1>Projekt</h1>
      <p>Das ist ein Projekt, welches im Rahmen des Qualifikationsprojektes 3 an der Fachhochschule Salzburg
      im Schwerpunkt Web + Communities realisiert wird. Mit der innovativen Technik WebRTC werden wir den Benützern
      dieser Web-Applikation ermöglichen Multi-Video-Konferenzen kostenlos ohne der Installation eines Plugin zu führen.
      <br><br><h1>Team</h1><ul><li>Michael Tiefenthaler</li><li>Franz Josef Brünner</li><li>Lukas Wanko</li></ul></p>
      </div>
    </script>

    <script type="text/x-handlebars" data-template-name="hangup">
      <header>
      {{#linkTo "about" id="infoButton"}}{{/linkTo}}
      </header>
      <h2>Danke das du Phovec benutzt hast. <br /> Du darfst gerne jederzeit wieder kommen!</h2>
      <br />
      {{#linkTo "rooms" }}<div id="startButtonImage"></div>{{/linkTo}}
    </script>

    <script type="text/x-handlebars" data-template-name="_auth">
      <div id="fb-root"></div>

      {{#unless App.Controller.auth.fb_logged_in }}
      <a {{action "fbLogin" target="App.Controller.auth" }} class="socialButtons facebookButton"></a>
      {{/unless}}

      {{#if App.Controller.auth.fb_logged_in }}
      <a {{action "fbLogout" target="App.Controller.auth"}} class="socialButtons facebookButton"></a>
      {{/if}}

      {{#unless App.Controller.auth.google_logged_in }}
      <a {{action "googleLogin" target="App.Controller.auth"}} class="socialButtons googleButton"></a>
      {{/unless}}

      {{#if App.Controller.auth.google_logged_in }}
      <a {{action "googleLogout" target="App.Controller.auth"}} class="socialButtons googleButton"></a>
      {{/if}}

      <h2 id="userInfo"></h2>
      <div id="friends"></div>

    </script>

    <!-- scripts -->
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script>
      window.jQuery || document.write('<script src="assets/js/libs/jquery.js"><\/script>')
    </script>
    <script src="assets/js/libs/jquery-animate.min.js"></script>
    
    <!-- libs -->
    <script src="assets/js/libs/handlebars-1.0.0-rc.3.js"></script>
    <script src="assets/js/libs/ember-1.0.0-rc.1.js"></script>

    <!-- browser compatiblity -->
    <script src="assets/js/helpers/browser.js"></script>

    <!-- helper -->
    <script src="assets/js/helpers/webrtc.js"></script>
    <script src="assets/js/helpers/debugger.js"></script>

    <!-- app -->
    <script src="assets/js/app.js"></script>

    <!-- views -->
    <script src="assets/js/views/index.js"></script>
    <script src="assets/js/views/room.js"></script>
    <script src="assets/js/views/invitation.js"></script>
    <script src="assets/js/views/user.js"></script>

    <!-- models -->
    <script src="assets/js/models/user.js"></script>
    <script src="assets/js/models/room.js"></script>

    <!-- controllers -->
    <script src="assets/js/controllers/index.js"></script>
    <script src="assets/js/controllers/user.js"></script>
    <script src="assets/js/controllers/auth.js"></script>
    <script src="assets/js/controllers/room.js"></script>

    <!-- router -->
    <script src="assets/js/router.js"></script>

    <script src="assets/js/main.js"></script>
  </body>
</html>
